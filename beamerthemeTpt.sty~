% 
 \mode<presentation>
% *** TPT STYLE ***

\definecolor{colorframetitle}{RGB}{191,18,56} % Title of frames
\definecolor{redbox}{RGB}{191,18,56} % 
\definecolor{blackbox}{RGB}{0,0,0} % 
\definecolor{brownbox}{RGB}{128,99,90} % 
\definecolor{mylightgray}{RGB}{220,220,220}

\usepackage[absolute,overlay]{textpos}
% % \usepackage{listings}
% % \usepackage{hyperref}

\setlength{\TPHorizModule}{1mm}
\setlength{\TPVertModule}{1mm}

\usepackage{tikz}
\usetikzlibrary{decorations.pathreplacing,calc}
\usetikzlibrary{arrows,shapes,snakes,automata,backgrounds,petri}
\usepackage{scalefnt}

\newcommand{\tikzmark}[1]{\tikz[overlay,remember picture] \node (#1) {};}

\tikzstyle{mybox} = [draw=redbox, fill=redbox!20, very thick,
rectangle, rounded corners, inner sep=10pt, inner ysep=20pt]
\tikzstyle{fancytitle} =[fill=redbox, text=white, rectangle]


\newcommand{\MyLogo}{
  %\begin{textblock}{14}(117.2,0.7)
  \begin{textblock}{14}(117.8,86)
    \includegraphics[width=1cm]{images\telecom.png}
  \end{textblock}
}

% \usepackage{beamerthemesplit}

\setbeamercolor{itemize item}{fg=redbox}
\setbeamercolor{structure}{fg=redbox, bg=red}
\setbeamercolor{block title}{bg=brownbox,fg=white}
\setbeamercolor{block body}{bg=mylightgray,fg=black}
\setbeamercolor{block title alerted}{bg=redbox,fg=white}
\setbeamercolor{block body alerted}{bg=mylightgray,fg=black}
\setbeamercolor{block title example}{bg=black, fg=white}
\setbeamercolor{block body example}{bg=mylightgray,fg=black}
\setbeamercolor{palette primary}{fg=black,bg=mylightgray} % changed this
\setbeamercolor{palette secondary}{use=structure,fg=structure.fg!100!white} % changed this
\setbeamercolor{palette tertiary}{use=structure,fg=structure.fg!100!white} % changed this
\setbeamercolor*{palette quaternary}{fg=black,bg=white} % outline on top left
\setbeamercolor{background canvas}{bg=white, fg=black} 
\setbeamercolor{frametitle}{fg=colorframetitle}
\theoremstyle{definition}
\newtheorem{defn}{Definition}[section]

\usecolortheme{beaver}
% \usecolortheme{orchid}
\useinnertheme[infolines]{rounded}
\useoutertheme{infolines}
% Frames decoration

\newcommand{\RectanglesBeforeTitle}{%
  \raisebox{-3mm}[0pt][0pt]{%
    \begin{pgfpicture}{0mm}{0mm}{0mm}{0mm}
      \pgfsetlinewidth{5mm}
      \color{redbox}
      \pgfline{\pgfpoint{-2mm}{2.2mm}}{\pgfpoint{4mm}{2.2mm}}
      \color{blackbox}
      \pgfline{\pgfpoint{4mm}{2.2mm}}{\pgfpoint{10mm}{2.2mm}}
      \color{brownbox}
      \pgfline{\pgfpoint{10mm}{2.2mm}}{\pgfpoint{16mm}{2.2mm}}
\end{pgfpicture}}}

\setbeamertemplate{frametitle}{
  \begin{columns}[t]
    \column{16mm}
    \RectanglesBeforeTitle 
    \column{10.7cm}
     \hspace*{-2pt}
     \vbox{}\vskip-1.7ex%
    \strut\textbf{\insertframetitle}\strut
     \vskip-0.8ex%
  \end{columns}
}




\newcommand{\LogoLine}{%
  \raisebox{-14mm}[0pt][0pt]{%
   	\begin{pgfpicture}{0mm}{0mm}{0mm}{0mm}
    	 \pgfsetlinewidth{0.28mm}
    	  \color{gray}
      	\pgfline{\pgfpoint{-3mm}{1mm}}{\pgfpoint{11cm}{1mm}}
    \end{pgfpicture}
  }
}

% Include the line that we just created in the headline
\setbeamertemplate{headline}[text line]{\LogoLine}


\setbeamertemplate{sidebar canvas right}{
            \vspace*{-2pt}\hspace*{-39pt}%
    {\includegraphics[height=40pt]{images/telecom.png}}}


% % Foot line

\makeatother
\setbeamertemplate{footline}
{
  \leavevmode%
  \hbox{%
  \begin{beamercolorbox}[wd=.2\paperwidth,ht=2.25ex,dp=1ex,center]{title in head/foot}%
    \usebeamerfont{author in head/foot}\insertshortauthor
  \end{beamercolorbox}%
%    \begin{beamercolorbox}[wd=.4\paperwidth,ht=2.25ex,dp=1ex,center]{title in head/foot}%
%     \usebeamerfont{title in head/foot}\insertframetitle
%   \end{beamercolorbox}%
  \begin{beamercolorbox}[wd=.8\paperwidth,ht=2.25ex,dp=1ex,center]{author in head/foot}%
    \usebeamerfont{title in head/foot}\insertshorttitle\hspace*{3em}
    \insertframenumber{} / \inserttotalframenumber\hspace*{1ex}
  \end{beamercolorbox}}%
  \vskip0pt%
}
\makeatletter



% \makeatletter
% \newcommand{\Ffootline}{
%   \MyLogo
%   \begin{tikzpicture}
%     \fill [color=white, fill=redbox] (-1, -0.05) rectangle (1, 0.30);
%     \node[white, right] (note1) at (-1, 0.10) {\insertframenumber/\inserttotalframenumber};
%     \node[white, left] (note1bis) at (0.98, 0.10) {\theDate};
%     \fill [color=white, fill=blackbox] (1.05, -0.05) rectangle (4.5, 0.30);
%     \node[white, align=center] (note2) at (2.77, 0.12) {Institut Mines-Telecom};
%     \fill [color=red, fill=brownbox] (4.55, -0.05) rectangle (10.75, 0.30);
%     \node[white, align = center] (note3) at (7.65, 0.10) {\theTitle};
% 
%     %\node[white] (note3) at (7.5, 0.10) {\theTitle};
%   \end{tikzpicture}
% }
% 
% % \setbeamertemplate{footline}{
% %     \usebeamerfont{structure}
% %     \Ffootline
% % }
% 
% \newcommand{\activateFootline}{
%   \setbeamertemplate{footline}{
%     \usebeamerfont{structure}
%     \Ffootline
%   }
% }
% 
% 
%remove navigation symbols
\setbeamertemplate{navigation symbols}{}


% To show the outline at the beginning of each section
\AtBeginSection[]{
  \begin{frame}
    \frametitle{Outline}
    %\begin{center}{\LARGE Outline }\end{center}
    \tableofcontents[currentsection,hideothersubsections]
  \end{frame} 
}
% 
% 
% % \lstset{language=C,basicstyle=\scriptsize,keywordstyle=\color{red}\bfseries,  commentstyle=\color{blue}\textit,stringstyle=\color{green}\ttfamily,labelstyle=\tiny, showspaces=false,showstringspaces=false}
% 
% \newcommand{\mytilde}{\raise.17ex\hbox{$\scriptstyle\mathtt{\sim}$}}
% 
% \newcommand{\tikzgrid}{
%   \begin{pgfonlayer}{background}
%     \draw[gray!50]
%     (current bounding box.south west)
%     grid[step=.2] (current bounding box.north east);
%     \draw[red!50]
%     (current bounding box.south west)
%     grid (current bounding box.north east);
%   \end{pgfonlayer}
% }
% 
% \newcommand*{\ExtractCoordinate}[3]{\path (#1); \pgfgetlastxy{#2}{#3};}%
% 
% \newdimen\tlx
% \newdimen\tlx
% \newdimen\brx
% \newdimen\bry
% 
% 
\mode
<all>